{assign var="privacyUrl" value=$Control::getPrivacyUrl($Project)}
{assign var="imprintUrl" value=$Control::getImprintUrl($Project)}

<div id="quiqqer-cookieconsent-banner" class="quiqqer-cookieconsent__{{$Control::getPosition($Project)}}">
    <div class="quiqqer-cookieconsent-message">
        {{$Control::getText($Project)}}

        {if $privacyUrl}
        <a href="{{$privacyUrl}}" style="margin-left: 10px;">Datenschutzerkl√§rung</a>
        {/if}

        {if $imprintUrl}
        <a href="{{$imprintUrl}}" style="margin-left: 10px;">Impressum</a>
        {/if}
    </div>

    <fieldset>
        {{foreach $cookiesGroupedByCategory key=$categoryName item=$Cookies}}
            <input type="checkbox"
                   value="{{$categoryName}}"
                   class="quiqqer-cookieconsent-category"
                   id="quiqqer-cookieconsent-category-{{$categoryName}}"
                   {{if $categoryName== $requiredCookieCategory}}
                   disabled
                   checked
                   {{/if}}
            >
            <label for="quiqqer-cookieconsent-category-{{$categoryName}}">
                {locale group="quiqqer/cookieconsent" var="cookie.category.$categoryName"}
            </label>
        {{/foreach}}
    </fieldset>

    <button id="quiqqer-cookieconsent-accept">
        {{$Control::getButtonText($Project)}}
    </button>

    <div id="quiqqer-cookieconsent-cookie-info">
        <table>
            <thead>
                <tr>
                    <th>
                        {locale group="quiqqer/cookieconsent" var="cookie.name"}
                    </th>
                    <th>
                        {locale group="quiqqer/cookieconsent" var="cookie.category"}
                    </th>
                    <th>
                        {locale group="quiqqer/cookieconsent" var="cookie.origin"}
                    </th>
                    <th>
                        {locale group="quiqqer/cookieconsent" var="cookie.purpose"}
                    </th>
                    <th>
                        {locale group="quiqqer/cookieconsent" var="cookie.lifetime"}
                    </th>
                </tr>
            </thead>
            <tbody>
                {{foreach $cookiesGroupedByCategory key=$cookieCategory item=$Cookies}}
                    {{foreach $Cookies as $Cookie}}
                        <tr>
                            <td>{{$Cookie->getName()}}</td>
                            <td>{locale group="quiqqer/cookieconsent" var="cookie.category.$cookieCategory"}</td>
                            <td>{{$Cookie->getOrigin()}}</td>
                            <td>{{$Cookie->getPurpose()}}</td>
                            <td>{{$Cookie->getLifetime()}}</td>
                        </tr>
                    {{/foreach}}
                {{/foreach}}
            </tbody>
        </table>
    </div>
</div>
